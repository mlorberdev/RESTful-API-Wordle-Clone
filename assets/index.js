!function () { let e = [...words[Math.floor(Math.random() * words.length)]]; e = [..."awash"]; const t = document.createDocumentFragment(); for (let e = 0; e < 30; e++) { let e = document.createElement("div"); e.classList.add("guess"), t.appendChild(e) } document.getElementById("wordl-board-container").appendChild(t); const n = ["q", "w", "e", "r", "t", "y", "u", "i", "o", "p", "a", "s", "d", "f", "g", "h", "j", "k", "l", "ent", "z", "x", "c", "v", "b", "n", "m", "del"], o = document.createDocumentFragment(); for (let e = 0; e < 28; e++) { let t = document.createElement("button"); t.innerText = n[e].toUpperCase(), t.addEventListener("click", m), o.appendChild(t), "p" !== n[e] && "l" !== n[e] || o.appendChild(document.createElement("br")), "del" !== n[e] && "ent" !== n[e] || t.classList.add("wide") } document.getElementById("keyboard-container").appendChild(o), def = `<a href='https://en.wiktionary.org/wiki/${e.join("")}' target='_blank'>Lookup ${e.join("").toUpperCase()} on Wiktionary â†—</a>`; const d = []; let l = 0; const r = document.querySelectorAll(".board-container div"), s = document.querySelectorAll("button"), a = document.getElementById("stats"); let c; function u() { c = localStorage.getItem("statistics").split(","), c.forEach((e => parseInt(e))); const e = ["pl", "wo", "wp", "cs", "ms", "d1", "d2", "d3", "d4", "d5", "d6"]; let t = parseInt(document.getElementById("bars").style.height) * parseFloat(getComputedStyle(document.documentElement).fontSize); for (i in e) document.getElementById(e[i]).innerHTML = c[i]; for (let e = 1; e < 7; e++)document.getElementById(`b${e}`).style.height = t * parseInt(c[e + 4]) / parseInt(c[0]) + "px", document.getElementById(`d${e}`).innerHTML = c[e + 4] } function m() { const t = this.innerText; switch (t) { case "ENT": if (5 * l + 5 !== d.length) return; !function () { let t = d.slice(-5); const o = e => { let t = 8635, n = 0, o = 0; for (; n <= t;) { if (o = Math.floor((t + n) / 2), words[o] === e) return !0; e > words[o] ? n = o + 1 : t = o - 1 } return !1 }; if (!1 === o(t.join(""))) return l--, void a(); c(); function a() { document.body.classList.add("err"), setTimeout((() => document.body.classList.remove("err")), 300) } function c() { let o = [!1, !1, !1, !1, !1]; for (i in t) e.includes(t[i]) && (e[i] === t[i] ? o[i] = "green" : o[i] = "gold"); function d() { for (i in o) if ("gold" === o[i]) { let n = [], l = [], r = []; for (j in t) { let d = e[j] === t[i], s = t[i] === t[j]; s && "gold" === o[j] && l.push(j), d && r.push(j), s && "green" === o[j] && n.push(j) } D = l.filter((e => !n.includes(e))), D.length + n.length > r.length && (o[D[Math.floor(Math.random() * D.length)]] = "gray", d()) } } for (i in o.indexOf("gold") >= 0 && d(), o) !1 === o[i] && (o[i] = "gray"); for (let e = 0; e < 5; e++)s[n.indexOf(t[e])].classList.add(o[e]), r[5 * l + e].classList.add(o[e]) } if ((5 === l || t.join("") === e.join("")) && (s.forEach((e => e.removeEventListener("click", m))), 5 === l && t.join("") !== e.join("") && (document.getElementById("instructions").innerHTML = `<div class='shade reload' onclick='location.reload()'>The word was ${e.join("").toUpperCase()}.<br>Play again?</div><div class='def'>${def}</div>`, g(!1)), t.join("") === e.join(""))) { let e = 0 === l ? "try" : "tries"; document.getElementById("instructions").innerHTML = `<div class='shade reload' onclick='location.reload()'>You got it in ${l + 1} ${e}!<br>Play again?</div><div class='def'>${def}</div>`, g(!0, l + 1) } }(), l++; break; case "DEL": if (5 * l === d.length) return; d.pop(), r[d.length].innerText = ""; break; default: if (5 * l + 5 === d.length) return; r[d.length].innerText = t, d.push(t.toLowerCase()) } } function g(e, t) { c[0]++, !0 === e ? (c[1]++, c[3]++, c[3] > c[4] && (c[4] = c[3])) : c[3] = 0, c[2] = `${(100 * c[1] / c[0]).toFixed(0)}%`, t > 0 && c[c.length - 7 + t]++, localStorage.setItem("statistics", c), u() } function f() { localStorage.setItem("statistics", [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]), u() } null === localStorage.getItem("statistics") && f(), u(), document.getElementById("statistics").addEventListener("click", (() => "none" === a.style.display ? a.style.display = "flex" : a.style.display = "none")), document.getElementById("reset").addEventListener("click", f) }();